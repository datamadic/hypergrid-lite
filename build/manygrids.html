<html>
<head>
	<meta charset="UTF-8">
	<title>Many Hypergrids</title>
</head>
<body>
	<h1 class="loading">Loading...</h1>
	<div class="anchor"></div>
	<script src="out.js"></script>
	<script>
		window.addEventListener('load', function () {
			console.log('woah');
			init();
		});


		function init() {
			var frags = document.createDocumentFragment(),
				numGrids = 50,
				cols = 5,
				grids = [],
				y = 0,
				x = 0,
				div, model, grid, defaultCellRenderer;

			while (numGrids--) {
				


				div = document.createElement('div');
				div.style.position = 'absolute';
				div.style.top = y + 'px';
				div.style.left = x + 'px';
				div.style.width = '270px';
				div.style.height = '100px';
				div.style.border = '1px solid gray';
				//div.

				x += 280;

				if (!(numGrids % cols)) {
					y += 110;
					x = 0;
				}

				model = new fin.hypergridlite.GridModel(randomData(500));
				grid = fin.hypergridlite.createOn(div, model);

				defaultCellRenderer = grid.getDefaultCellRenderer();

				grid.addColumn('work', 'Work', 'object', 50, function(gc, config) {
			    	config.backgroundColor = '#505050';
			    	config.color = 'rgb(71,71,71)';
			    	defaultCellRenderer(gc, config);
			    });
			    grid.addColumn('bids', 'Bids', 'number', 50, function(gc, config) {
			    	config.backgroundColor = '#2565a2';
			    	config.color = 'white';
			    	defaultCellRenderer(gc, config);
			    });
			    grid.addColumn('price', 'Price', 'number', 70, function(gc, config) {
			    	config.backgroundColor = '#c1c1c1';
			    	config.color = 'rgb(71,71,71)';
			    	defaultCellRenderer(gc, config);
			    });
			    grid.addColumn('asks', 'Asks', 'number', 50, function(gc, config) {
			    	config.backgroundColor = '#941e20';
			    	config.color = 'white';
			    	defaultCellRenderer(gc, config);
			    });
			    grid.addColumn('ltq', 'LTQ', 'number', 50, function(gc, config) {
			    	config.backgroundColor = '#505050';
			    	config.color = '#ffffff';
			    	defaultCellRenderer(gc, config);
			    });

				grids.push(div);
				frags.appendChild(div);
			}

			var anchor = document.querySelector('.anchor')

			console.log(anchor);

			anchor.appendChild(frags);


		}
	</script>
</body>
</html>